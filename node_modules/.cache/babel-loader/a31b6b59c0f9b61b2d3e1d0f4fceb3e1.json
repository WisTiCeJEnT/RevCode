{"ast":null,"code":"import _slicedToArray from \"/Users/finality5/Desktop/RevCode/RevCodeFrontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/finality5/Desktop/RevCode/RevCodeFrontend/src/Components/Register.js\";\nimport React, { useCallback, useState, useContext } from \"react\";\nimport { withRouter, Redirect } from \"react-router\";\nimport { Link } from \"react-router-dom\";\nimport { Button, Form, Grid, Header, Message, Container, Divider, GridRow, Progress, Icon } from \"semantic-ui-react\";\nimport \"./../Style/Login.css\";\nimport axios from \"axios\";\nimport firebase from \"../FirebaseAPI\";\nimport { AuthContext } from \"./../Auth\";\n\nconst zxcvbn = require(\"zxcvbn\");\n\nconst Register = ({\n  history\n}) => {\n  const _useState = useState({\n    signed: false\n  }),\n        _useState2 = _slicedToArray(_useState, 2),\n        sign = _useState2[0],\n        setSign = _useState2[1];\n\n  const _useState3 = useState({\n    show: false\n  }),\n        _useState4 = _slicedToArray(_useState3, 2),\n        Display = _useState4[0],\n        setDisplay = _useState4[1];\n\n  const _useState5 = useState({\n    error: \"\"\n  }),\n        _useState6 = _slicedToArray(_useState5, 2),\n        Err = _useState6[0],\n        setErr = _useState6[1];\n\n  const _useState7 = useState({\n    percent: 0,\n    color: \"grey\",\n    scale: \"\"\n  }),\n        _useState8 = _slicedToArray(_useState7, 2),\n        progress = _useState8[0],\n        setProgress = _useState8[1];\n\n  const handleRegister = useCallback(async event => {\n    event.preventDefault();\n    const _event$target$element = event.target.elements,\n          email = _event$target$element.email,\n          password = _event$target$element.password,\n          cpassword = _event$target$element.cpassword,\n          username = _event$target$element.username;\n\n    if (!username.value) {\n      return setErr({\n        error: \"Username is required\"\n      });\n    }\n\n    if (!email.value) {\n      return setErr({\n        error: \"Email is required\"\n      });\n    }\n\n    if (!password.value) {\n      return setErr({\n        error: \"Password is required\"\n      });\n    }\n\n    if (!cpassword.value) {\n      return setErr({\n        error: \"Confirm password is required\"\n      });\n    }\n\n    if (password.value !== cpassword.value) {\n      return setErr({\n        error: \"Your password and confirm password don't match\"\n      });\n    }\n\n    try {\n      await firebase.auth().createUserWithEmailAndPassword(email.value, password.value).then(async response => {\n        setSign({\n          signed: true\n        });\n        console.log(\"#\", response);\n        await axios.post(\"https://revcode.herokuapp.com/adduser\", {\n          uid: response.user.uid,\n          name: username.value\n        }).then(res => {\n          console.log(res);\n          alert(\"Successfully Registered\");\n          history.push(\"/\");\n        }).catch(err => {\n          setErr({\n            error: err.message\n          }); //alert(err)\n        });\n        firebase.auth().signOut();\n      }).catch(err => {\n        setErr({\n          error: err.message\n        }); //alert(error)\n      });\n    } catch (err) {\n      setErr({\n        error: err.message\n      }); //alert(error)\n    }\n  }, [history]);\n\n  const _useContext = useContext(AuthContext),\n        currentUser = _useContext.currentUser;\n\n  if (currentUser && !sign.signed) {\n    return React.createElement(Redirect, {\n      to: \"/main\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93\n      },\n      __self: this\n    });\n  }\n\n  return React.createElement(\"div\", {\n    className: \"area\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97\n    },\n    __self: this\n  }, React.createElement(Container, {\n    className: \"box\",\n    style: {\n      width: 400\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98\n    },\n    __self: this\n  }, React.createElement(Header, {\n    as: \"h2\",\n    icon: true,\n    textAlign: \"center\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99\n    },\n    __self: this\n  }, React.createElement(Header.Content, {\n    style: {\n      color: \"white\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100\n    },\n    __self: this\n  }, \"Sign Up\")), React.createElement(Divider, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102\n    },\n    __self: this\n  }), React.createElement(Form, {\n    inverted: true,\n    style: {\n      paddingTop: 20\n    },\n    error: true,\n    onSubmit: handleRegister,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103\n    },\n    __self: this\n  }, Err.error && React.createElement(Message, {\n    error: true,\n    header: Err.error,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109\n    },\n    __self: this\n  }), React.createElement(Form.Input, {\n    icon: \"user\",\n    iconPosition: \"left\",\n    label: \"Username\",\n    placeholder: \"Username\",\n    name: \"username\",\n    type: \"text\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110\n    },\n    __self: this\n  }), React.createElement(Form.Input, {\n    icon: \"mail\",\n    iconPosition: \"left\",\n    label: \"Email\",\n    placeholder: \"Email\",\n    name: \"email\",\n    type: \"email\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118\n    },\n    __self: this\n  }), React.createElement(Form.Input, {\n    icon: \"lock\",\n    iconPosition: \"left\",\n    label: \"Password\",\n    placeholder: \"Password\",\n    name: \"password\",\n    type: \"password\",\n    onChange: e => {\n      setDisplay({\n        show: true\n      });\n      const testedResult = zxcvbn(e.target.value);\n      const score = (testedResult.score + 1) * 20;\n\n      if (score === 20) {\n        setProgress({\n          percent: score,\n          color: \"red\",\n          scale: \"Weak\"\n        });\n      }\n\n      if (score === 40) {\n        setProgress({\n          percent: score,\n          color: \"yellow\",\n          scale: \"Fair\"\n        });\n      }\n\n      if (score === 60) {\n        setProgress({\n          percent: score,\n          color: \"blue\",\n          scale: \"Normal\"\n        });\n      }\n\n      if (score === 80) {\n        setProgress({\n          percent: score,\n          color: \"teal\",\n          scale: \"Good\"\n        });\n      }\n\n      if (score === 100) {\n        setProgress({\n          percent: score,\n          color: \"green\",\n          scale: \"Strong\"\n        });\n      }\n\n      console.log(progress);\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126\n    },\n    __self: this\n  }), !Display.show ? null : React.createElement(Progress, {\n    percent: progress.percent,\n    color: progress.color,\n    size: \"tiny\",\n    style: {\n      marginBottom: \"1em\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 162\n    },\n    __self: this\n  }), !Display.show ? null : React.createElement(Header, {\n    as: \"h5\",\n    textAlign: \"left\",\n    color: progress.color,\n    style: {\n      marginTop: \"1em\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 171\n    },\n    __self: this\n  }, React.createElement(Header.Content, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 177\n    },\n    __self: this\n  }, React.createElement(\"b\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 178\n    },\n    __self: this\n  }, \"Password Strength \"), \" : \", React.createElement(\"i\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 178\n    },\n    __self: this\n  }, progress.scale))), React.createElement(Form.Input, {\n    icon: \"lock\",\n    iconPosition: \"left\",\n    label: \"Confirm Password\",\n    type: \"password\",\n    placeholder: \"Confirm Password\",\n    name: \"cpassword\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 183\n    },\n    __self: this\n  }), React.createElement(Grid, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 191\n    },\n    __self: this\n  }, React.createElement(Grid.Column, {\n    textAlign: \"center\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 192\n    },\n    __self: this\n  }, React.createElement(Grid.Row, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 193\n    },\n    __self: this\n  }, React.createElement(Button, {\n    type: \"submit\",\n    content: \"Sign Up\",\n    basic: true,\n    inverted: true,\n    color: \"teal\",\n    size: \"large\",\n    style: {\n      marginTop: \"1em\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 194\n    },\n    __self: this\n  })), React.createElement(GridRow, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 204\n    },\n    __self: this\n  }, React.createElement(Header, {\n    as: \"h5\",\n    textAlign: \"center\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 205\n    },\n    __self: this\n  }, React.createElement(Header.Content, {\n    style: {\n      color: \"#909090\",\n      marginTop: \"2em\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 206\n    },\n    __self: this\n  }, \"Already have an account?\", \" \", React.createElement(Link, {\n    to: \"/login\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 210\n    },\n    __self: this\n  }, React.createElement(\"i\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 211\n    },\n    __self: this\n  }, \"Sign In\")))), React.createElement(Header, {\n    as: \"h6\",\n    textAlign: \"center\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 215\n    },\n    __self: this\n  }, React.createElement(Header.Content, {\n    style: {\n      color: \"#909090\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 216\n    },\n    __self: this\n  }, React.createElement(Link, {\n    to: \"/\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 219\n    },\n    __self: this\n  }, React.createElement(Icon, {\n    name: \"arrow left\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 220\n    },\n    __self: this\n  }), React.createElement(\"span\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 221\n    },\n    __self: this\n  }, \"Back to RevCode\"))))))))), React.createElement(\"ul\", {\n    className: \"circles\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 233\n    },\n    __self: this\n  }, React.createElement(\"li\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 234\n    },\n    __self: this\n  }), React.createElement(\"li\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 235\n    },\n    __self: this\n  }), React.createElement(\"li\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 236\n    },\n    __self: this\n  }), React.createElement(\"li\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 237\n    },\n    __self: this\n  }), React.createElement(\"li\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 238\n    },\n    __self: this\n  }), React.createElement(\"li\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 239\n    },\n    __self: this\n  }), React.createElement(\"li\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 240\n    },\n    __self: this\n  }), React.createElement(\"li\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 241\n    },\n    __self: this\n  }), React.createElement(\"li\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 242\n    },\n    __self: this\n  }), React.createElement(\"li\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 243\n    },\n    __self: this\n  }), React.createElement(\"li\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 244\n    },\n    __self: this\n  })));\n};\n\nexport default withRouter(Register);","map":{"version":3,"sources":["/Users/finality5/Desktop/RevCode/RevCodeFrontend/src/Components/Register.js"],"names":["React","useCallback","useState","useContext","withRouter","Redirect","Link","Button","Form","Grid","Header","Message","Container","Divider","GridRow","Progress","Icon","axios","firebase","AuthContext","zxcvbn","require","Register","history","signed","sign","setSign","show","Display","setDisplay","error","Err","setErr","percent","color","scale","progress","setProgress","handleRegister","event","preventDefault","target","elements","email","password","cpassword","username","value","auth","createUserWithEmailAndPassword","then","response","console","log","post","uid","user","name","res","alert","push","catch","err","message","signOut","currentUser","width","paddingTop","e","testedResult","score","marginBottom","marginTop"],"mappings":"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","sourcesContent":["import React, { useCallback, useState, useContext } from \"react\";\nimport { withRouter, Redirect } from \"react-router\";\nimport { Link } from \"react-router-dom\";\nimport {\n  Button,\n  Form,\n  Grid,\n  Header,\n  Message,\n  Container,\n  Divider,\n  GridRow,\n  Progress,\n  Icon\n} from \"semantic-ui-react\";\nimport \"./../Style/Login.css\";\nimport axios from \"axios\";\nimport firebase from \"../FirebaseAPI\";\nimport { AuthContext } from \"./../Auth\";\nconst zxcvbn = require(\"zxcvbn\");\n\nconst Register = ({ history }) => {\n  const [sign, setSign] = useState({ signed: false });\n  const [Display, setDisplay] = useState({ show: false });\n  const [Err, setErr] = useState({ error: \"\" });\n  const [progress, setProgress] = useState({\n    percent: 0,\n    color: \"grey\",\n    scale: \"\"\n  });\n  const handleRegister = useCallback(\n    async event => {\n      event.preventDefault();\n\n      const { email, password, cpassword, username } = event.target.elements;\n      if (!username.value) {\n        return setErr({ error: \"Username is required\" });\n      }\n      if (!email.value) {\n        return setErr({ error: \"Email is required\" });\n      }\n\n      if (!password.value) {\n        return setErr({ error: \"Password is required\" });\n      }\n      if (!cpassword.value) {\n        return setErr({ error: \"Confirm password is required\" });\n      }\n      if (password.value !== cpassword.value) {\n        return setErr({\n          error: \"Your password and confirm password don't match\"\n        });\n      }\n      try {\n        await firebase\n          .auth()\n          .createUserWithEmailAndPassword(email.value, password.value)\n          .then(async response => {\n            setSign({signed:true});\n            console.log(\"#\", response);\n            await axios\n              .post(\"https://revcode.herokuapp.com/adduser\", {\n                uid: response.user.uid,\n                name: username.value\n              })\n              .then(res => {\n                console.log(res);\n                \n                alert(\"Successfully Registered\");\n\n                history.push(\"/\");\n              })\n              .catch(err => {\n                setErr({ error: err.message });\n                //alert(err)\n              });\n            firebase.auth().signOut();\n          })\n          .catch(err => {\n            setErr({ error: err.message });\n            //alert(error)\n          });\n      } catch (err) {\n        setErr({ error: err.message });\n        //alert(error)\n      }\n    },\n    [history]\n  );\n  const { currentUser } = useContext(AuthContext);\n\n  if (currentUser && !sign.signed) {\n    return <Redirect to=\"/main\" />;\n  }\n\n  return (\n    <div className=\"area\">\n      <Container className=\"box\" style={{ width: 400 }}>\n        <Header as=\"h2\" icon textAlign=\"center\">\n          <Header.Content style={{ color: \"white\" }}>Sign Up</Header.Content>\n        </Header>\n        <Divider />\n        <Form\n          inverted\n          style={{ paddingTop: 20 }}\n          error\n          onSubmit={handleRegister}\n        >\n          {Err.error && <Message error header={Err.error} />}\n          <Form.Input\n            icon=\"user\"\n            iconPosition=\"left\"\n            label=\"Username\"\n            placeholder=\"Username\"\n            name=\"username\"\n            type=\"text\"\n          />\n          <Form.Input\n            icon=\"mail\"\n            iconPosition=\"left\"\n            label=\"Email\"\n            placeholder=\"Email\"\n            name=\"email\"\n            type=\"email\"\n          />\n          <Form.Input\n            icon=\"lock\"\n            iconPosition=\"left\"\n            label=\"Password\"\n            placeholder=\"Password\"\n            name=\"password\"\n            type=\"password\"\n            onChange={e => {\n              setDisplay({ show: true });\n              const testedResult = zxcvbn(e.target.value);\n              const score = (testedResult.score + 1) * 20;\n\n              if (score === 20) {\n                setProgress({ percent: score, color: \"red\", scale: \"Weak\" });\n              }\n              if (score === 40) {\n                setProgress({ percent: score, color: \"yellow\", scale: \"Fair\" });\n              }\n              if (score === 60) {\n                setProgress({ percent: score, color: \"blue\", scale: \"Normal\" });\n              }\n              if (score === 80) {\n                setProgress({ percent: score, color: \"teal\", scale: \"Good\" });\n              }\n              if (score === 100) {\n                setProgress({\n                  percent: score,\n                  color: \"green\",\n                  scale: \"Strong\"\n                });\n              }\n              console.log(progress);\n            }}\n          />\n\n          {!Display.show ? null : (\n            <Progress\n              percent={progress.percent}\n              color={progress.color}\n              size=\"tiny\"\n              style={{ marginBottom: \"1em\" }}\n            />\n          )}\n\n          {!Display.show ? null : (\n            <Header\n              as=\"h5\"\n              textAlign=\"left\"\n              color={progress.color}\n              style={{ marginTop: \"1em\" }}\n            >\n              <Header.Content>\n                <b>Password Strength </b> : <i>{progress.scale}</i>\n              </Header.Content>\n            </Header>\n          )}\n\n          <Form.Input\n            icon=\"lock\"\n            iconPosition=\"left\"\n            label=\"Confirm Password\"\n            type=\"password\"\n            placeholder=\"Confirm Password\"\n            name=\"cpassword\"\n          />\n          <Grid>\n            <Grid.Column textAlign=\"center\">\n              <Grid.Row>\n                <Button\n                  type=\"submit\"\n                  content=\"Sign Up\"\n                  basic\n                  inverted\n                  color=\"teal\"\n                  size=\"large\"\n                  style={{ marginTop: \"1em\" }}\n                />\n              </Grid.Row>\n              <GridRow>\n                <Header as=\"h5\" textAlign=\"center\">\n                  <Header.Content\n                    style={{ color: \"#909090\", marginTop: \"2em\" }}\n                  >\n                    Already have an account?{\" \"}\n                    <Link to=\"/login\">\n                      <i>Sign In</i>\n                    </Link>\n                  </Header.Content>\n                </Header>\n                <Header as=\"h6\" textAlign=\"center\">\n                  <Header.Content\n                    style={{ color: \"#909090\"}}\n                  >\n                    <Link to=\"/\">\n                    <Icon name=\"arrow left\" />\n                    <span>\n                    Back to RevCode\n                    </span>\n                    </Link>\n                  </Header.Content>\n                </Header>\n              </GridRow>\n            </Grid.Column>\n          </Grid>\n        </Form>\n      </Container>\n\n      <ul className=\"circles\">\n        <li></li>\n        <li></li>\n        <li></li>\n        <li></li>\n        <li></li>\n        <li></li>\n        <li></li>\n        <li></li>\n        <li></li>\n        <li></li>\n        <li></li>\n      </ul>\n    </div>\n  );\n};\nexport default withRouter(Register);\n"]},"metadata":{},"sourceType":"module"}